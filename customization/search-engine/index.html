<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../assets/style.css?t=b2bf17e6">
    <link rel="stylesheet" href="../../extra.css?t=64391f76">
    <script src="../../extra.js?t=395a2e0b"></script>
    <script src="../../assets/script.js?t=d808765a"></script>
    <title>Search Engine - Uno Urban</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="../../index.html">Uno Urban</a>
            </li>
            <li class="menu-item -level-1"><a class="link title  link-changelog" href="../../CHANGELOG.html">Changelog</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Development</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-first-steps" href="../../first-steps.html">First Steps</a>
                </li>
                <li class="menu-item -level-2 -parent"><span class="title">Customization</span>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><span class="title">General</span>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationcolors" href="../../customization/colors.html">Colors</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationcover" href="../../customization/cover.html">Cover</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationfavicon" href="../../customization/favicon.html">Favicon</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationgoogle-analytics" href="../../customization/google-analytics.html">Google Analytics</a>
                    </li>
                    <li class="menu-item -level-3"><span class="title">Post</span>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationcomments" href="../../customization/comments.html">Comments</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationhighlight-code" href="../../customization/highlight-code.html">Highlight Code</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationstatic-pages" href="../../customization/static-pages.html">Static Pages</a>
                    </li>
                    <li class="menu-item -level-3"><span class="title">Index</span>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationposts-headline" href="../../customization/posts-headline.html">Posts Headline</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-customizationinfinite-scroll" href="../../customization/infinite-scroll.html">Infinite Scroll</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title -active link-customizationsearch-engine" href="../../customization/search-engine/index.html">Search Engine</a>
                      <ul class="headings heading-list">
                        <li class="heading-item -depth-2"><a class="hlink link-creating-the-blog-index" href="#creating-the-blog-index">Creating the blog index</a>
                        </li>
                        <li class="heading-item -depth-2"><a class="hlink link-connecting-with-your-blog-content" href="#connecting-with-your-blog-content">Connecting with your blog content</a>
                          <ul class="heading-list -depth-2">
                            <li class="heading-item -depth-3"><a class="hlink link-backend" href="#backend">Backend</a>
                            </li>
                          </ul>
                        </li>
                        <li class="heading-item -depth-2"><a class="hlink link-frontend" href="#frontend">Frontend</a>
                        </li>
                      </ul>
                    </li>
                    <li class="menu-item -level-3 -parent"><span class="title">Sidebar</span>
                      <ul class="submenu">
                        <li class="menu-item -level-4"><a class="link title  link-customizationprofile-subtitle" href="../../customization/profile-subtitle.html">Profile Subtitle</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-customizationprofile-subtitle-2" href="../../customization/profile-subtitle.html">Profile Title</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-customizationsocial-networks" href="../../customization/social-networks.html">Social Networks</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-customizationopen-button" href="../../customization/open-button.html">Open Button</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-customizationlinks" href="../../customization/links.html">Links</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1"><a class="link title  link-tech-support" href="../../tech-support.html">Tech Support</a>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-customizationsearch-engine">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/Kikobeats/uno-urban" data-title="Kikobeats/uno-urban">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="search-engine">Search Engine</h1>
<p><img src="preview.png" alt=""></p>
<p>Currently search engine is powered by <a href="https://www.algolia.com/">Algolia</a>.</p>
<p>Because it depends of the blog content and the content is different per each blog installation, you need to setup it following the next steps.</p>
<h2 id="creating-the-blog-index">Creating the blog index</h2>
<p><a href="https://www.algolia.com/">Algolia</a> is a full text search engine. It offers a free plan, so we going to use it for create a intelligent index search of our content.</p>
<p>For do it, <a href="https://www.algolia.com/users/sign_up">first need to create an account</a>.</p>
<p>Using the account created, now we have to create an application domain:</p>
<p><img src="new-application.png" alt=""></p>
<p>Next step is create an index in the application domain.</p>
<blockquote>
<p>Click in the lateral menu into <strong>Indices</strong> and <strong>New Index</strong></p>
</blockquote>
<p>After that, we need to create a token with enough permissions or use Admin API Key.</p>
<blockquote>
<p>Click in the lateral menu into <strong>API Keys</strong> and <strong>New API Key</strong></p>
</blockquote>
<p>Now we have all the information to be possible connect with your index. This information are:</p>
<ul>
<li>APP_NAME</li>
<li>APP_ID</li>
<li>APP_KEY</li>
<li>INDEX_NAME</li>
</ul>
<p>We are going to use it for connect with your blog content.</p>
<h2 id="connecting-with-your-blog-content">Connecting with your blog content</h2>
<h3 id="backend">Backend</h3>
<p>We need to connect with algolia service and send our blog data.</p>
<p>First, Rename and edit <code>search.example.json</code> into <code>search.json</code>.</p>
<p>As you can see in this file, you need to setup your algolia connection using the variables reported by Algolia. Also you need to put special attention in two things.</p>
<h4 id="specifing-sitemaps">Specifing Sitemaps</h4>
<p>It specifies where is the content of your blog.</p>
<p>It&apos;s recommended specify the follow URL&apos;s:</p>
<pre><code class="lang-json">&quot;sitemaps&quot;: [
  {&quot;url&quot;: &quot;https://YOUR_DOMAIN/sitemap-posts.xml&quot;},
  {&quot;url&quot;: &quot;https://YOUR_DOMAIN/sitemap-pages.xml&quot;}
],
</code></pre>
<h4 id="setup-default-values">Setup default values</h4>
<p>We are going to index a set of attributes per each post.</p>
<p>If not possible to determinate a value for one attribute, we can specify a default values.</p>
<p>It&apos;s recommended to setup the follow default values:</p>
<pre><code>&quot;defaults&quot;: {
  &quot;image&quot;: &quot;https://YOUR_DOMAIN/assets/img/android-chrome-192x192.png&quot;,
  &quot;category&quot;: &quot;uncategorized&quot;
}
</code></pre>
<p>Also be sure to review favicon customization first.</p>
<h4 id="run-the-index-process">Run the index process</h4>
<p>Exec <code>gulp build-search</code> and the task will index your content.</p>
<h2 id="frontend">Frontend</h2>
<p>The last step that we need to do is connect the frontend client to access to your backend index.</p>
<p>Go to <code>Admin Panel</code> &#x2192; <code>Code Injection</code> &#x2192; <code>Blog Header</code>:</p>
<pre><code class="lang-js"><span class="pl-k">var</span> algolia_app_id = <span class="pl-s">&apos;APP_ID&apos;</span>
<span class="pl-k">var</span> algolia_api_key = <span class="pl-s">&apos;APP_KEY&apos;</span>
<span class="pl-k">var</span> algolia_index = <span class="pl-s">&apos;INDEX_NAME&apos;</span>
</code></pre>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../../customization/infinite-scroll.html"><span class="title">Infinite Scroll</span></a></div>
          <div class="right"><a href="../../customization/profile-subtitle.html"><span class="label">Next: </span><span class="title">Profile Title</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>